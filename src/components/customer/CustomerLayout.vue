<template>
  <div class="message-container">
    <div class="message-header">
      <slot name="headerLeft"></slot>
      <svg
        width="132"
        height="28"
        viewBox="0 0 132 28"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M33.8984 0.112919H35.8765V10.9123H33.8984V0.112919ZM34.8045 4.76655H38.1544C38.3784 4.77175 38.5993 4.71256 38.7925 4.59565C38.9732 4.48171 39.1191 4.31772 39.2136 4.1224C39.3194 3.90663 39.372 3.66734 39.3667 3.42567C39.3705 3.17994 39.3181 2.93675 39.2136 2.7158C39.1235 2.51947 38.9792 2.35486 38.7988 2.24255C38.6053 2.12728 38.3842 2.07034 38.1608 2.07822H34.8109V0.10634H38.1097C38.7107 0.0928931 39.3053 0.235292 39.8389 0.520439C40.3173 0.7822 40.7135 1.1789 40.9811 1.66412C41.262 2.19584 41.4029 2.79415 41.3894 3.39939C41.4029 4.00463 41.262 4.60292 40.9811 5.13464C40.7126 5.62702 40.3115 6.02881 39.8261 6.29148C39.291 6.57148 38.6971 6.71144 38.097 6.699H34.7981L34.8045 4.76655Z"
          fill="#474747"
        />
        <path
          d="M45.6094 0.107422H47.581V10.9133H45.6094V0.107422ZM46.3942 4.60989H50.044C50.2319 4.61314 50.4164 4.55817 50.5736 4.45213C50.7329 4.34274 50.8572 4.18723 50.9309 4.00517C51.0169 3.79721 51.0624 3.57389 51.0649 3.34788C51.0702 3.12174 51.0266 2.89722 50.9373 2.69058C50.864 2.50832 50.7396 2.35272 50.58 2.24363C50.4202 2.13862 50.2334 2.08591 50.044 2.09244H46.3942V0.120561H50.2227C50.7546 0.111864 51.279 0.250337 51.7412 0.521521C52.1799 0.790482 52.5326 1.18574 52.7558 1.65863C53.0073 2.18567 53.132 2.76732 53.1195 3.35446C53.132 3.9416 53.0073 4.52323 52.7558 5.05027C52.533 5.52388 52.1774 5.91772 51.7349 6.18082C51.2758 6.45422 50.7528 6.5929 50.2227 6.58178H46.3942V4.60989ZM48.6019 6.23341L50.714 5.8916L53.5406 10.9133H51.1478L48.6019 6.23341Z"
          fill="#474747"
        />
        <path
          d="M59.2026 10.5309C58.6321 10.2107 58.1644 9.72655 57.8562 9.13741C57.5301 8.4929 57.3676 7.77384 57.3841 7.04722V3.98423C57.3668 3.25752 57.5293 2.53824 57.8562 1.89403C58.1625 1.30351 58.6308 0.818896 59.2026 0.500574C59.8191 0.157238 60.5118 -0.0149239 61.2125 0.00102339C61.9112 -0.014992 62.6018 0.157209 63.2161 0.500574C63.7879 0.818896 64.2561 1.30351 64.5624 1.89403C64.8913 2.53774 65.0559 3.25698 65.0409 3.98423V7.04722C65.0554 7.77441 64.8907 8.49351 64.5624 9.13741C64.2543 9.72655 63.7865 10.2107 63.2161 10.5309C62.6001 10.8689 61.9103 11.0386 61.2125 11.0238C60.5127 11.0385 59.8209 10.8689 59.2026 10.5309ZM62.1441 8.75619C62.4163 8.60841 62.6387 8.37928 62.7822 8.0989C62.935 7.78975 63.0116 7.44664 63.0055 7.09979V3.93821C63.0116 3.59346 62.9349 3.25251 62.7822 2.94571C62.6407 2.6638 62.4178 2.43412 62.1441 2.28841C61.8592 2.12653 61.5378 2.04491 61.2125 2.05178C60.8851 2.04405 60.5614 2.1257 60.2745 2.28841C60.0009 2.43412 59.7779 2.6638 59.6365 2.94571C59.4856 3.253 59.4111 3.59399 59.4195 3.93821V7.09979C59.4111 7.44612 59.4856 7.78926 59.6365 8.0989C59.7799 8.37928 60.0023 8.60841 60.2745 8.75619C60.5614 8.9189 60.8851 9.00053 61.2125 8.99281C61.5378 8.99968 61.8592 8.91807 62.1441 8.75619Z"
          fill="#474747"
        />
        <path
          d="M71.0295 10.551C70.4737 10.2437 70.0269 9.76274 69.7534 9.17723C69.4379 8.49919 69.2848 7.75315 69.3068 7.00159V4.03719C69.2848 3.28352 69.4379 2.53535 69.7534 1.85499C70.0305 1.27204 70.4764 0.792044 71.0295 0.481244C71.6627 0.147796 72.3669 -0.0171618 73.0778 0.00141169C73.6934 -0.0066187 74.3012 0.144821 74.8452 0.441808C75.3702 0.746497 75.8098 1.18573 76.1214 1.71694C76.4844 2.33487 76.7251 3.02067 76.8296 3.73484H74.8006C74.7371 3.41022 74.616 3.10049 74.4432 2.82121C74.2978 2.58074 74.0959 2.38183 73.8562 2.24279C73.6238 2.10429 73.359 2.03383 73.0905 2.03903C72.7608 2.02885 72.4345 2.11059 72.1462 2.27564C71.8857 2.42435 71.6779 2.65455 71.5528 2.93294C71.4062 3.27166 71.3364 3.64029 71.3486 4.01091V6.97529C71.3371 7.34586 71.4069 7.71434 71.5528 8.05327C71.6804 8.32991 71.8876 8.5594 72.1462 8.71056C72.4345 8.87561 72.7608 8.95736 73.0905 8.94718C73.3621 8.95137 73.6302 8.88346 73.869 8.75C74.1072 8.60898 74.3087 8.41049 74.456 8.17157C74.6217 7.88771 74.7383 7.57635 74.8006 7.25137H76.8488C76.7392 7.9652 76.4965 8.65044 76.1341 9.26927C75.8223 9.79863 75.3827 10.2357 74.858 10.5378C74.3177 10.8386 73.711 10.9904 73.0969 10.9782C72.3839 11.0164 71.6731 10.8695 71.0295 10.551Z"
          fill="#474747"
        />
        <path
          d="M81.1719 0.115234H83.1499V10.9146H81.1719V0.115234ZM82.0843 4.57825H88.1907V6.55013H82.0843V4.57825ZM86.9081 0.115234H88.8862V10.9146H86.9081V0.115234Z"
          fill="#474747"
        />
        <path
          d="M95.4288 10.5309C94.8603 10.2103 94.3947 9.72608 94.0889 9.1374C93.7605 8.4935 93.5959 7.7744 93.6103 7.04721V3.98422C93.5953 3.25697 93.76 2.53773 94.0889 1.89403C94.3929 1.30397 94.8589 0.819289 95.4288 0.500565C96.0454 0.15723 96.7381 -0.014932 97.4388 0.00101526C98.1395 -0.014932 98.8321 0.15723 99.4487 0.500565C100.019 0.819289 100.485 1.30397 100.789 1.89403C101.118 2.53773 101.282 3.25697 101.267 3.98422V7.04721C101.282 7.7744 101.117 8.4935 100.789 9.1374C100.483 9.72608 100.017 10.2103 99.4487 10.5309C98.8304 10.8688 98.1386 11.0385 97.4388 11.0238C96.739 11.0385 96.0471 10.8688 95.4288 10.5309ZM98.3767 8.75618C98.6475 8.60646 98.8695 8.37783 99.0148 8.09889C99.1656 7.78926 99.2401 7.44611 99.2317 7.09979V3.9382C99.2401 3.59398 99.1656 3.25299 99.0148 2.9457C98.8713 2.66531 98.6489 2.43618 98.3767 2.28841C98.0898 2.12569 97.7662 2.04405 97.4388 2.05177C97.1113 2.04405 96.7877 2.12569 96.5008 2.28841C96.2286 2.43618 96.0062 2.66531 95.8627 2.9457C95.7119 3.25299 95.6374 3.59398 95.6458 3.9382V7.09979C95.6374 7.44611 95.7119 7.78926 95.8627 8.09889C96.0081 8.37783 96.23 8.60646 96.5008 8.75618C96.7877 8.91889 97.1113 9.00052 97.4388 8.9928C97.7769 9.00645 98.1123 8.92464 98.4086 8.75618H98.3767Z"
          fill="#474747"
        />
        <path d="M107.783 10.9146H105.734V0.115234H107.783V10.9146Z" fill="#474747" />
        <path
          d="M114.129 10.551C113.574 10.2437 113.127 9.76275 112.853 9.17723C112.536 8.49975 112.38 7.75368 112.4 7.00159V4.03719C112.38 3.28298 112.535 2.53479 112.853 1.85499C113.13 1.27204 113.576 0.792044 114.129 0.481244C114.763 0.147796 115.467 -0.0171618 116.178 0.00141169C116.793 -0.0066187 117.401 0.144821 117.945 0.441808C118.47 0.746497 118.91 1.18573 119.221 1.71694C119.582 2.33536 119.82 3.02114 119.923 3.73484H117.881C117.818 3.41022 117.697 3.10049 117.524 2.82121C117.377 2.58213 117.175 2.38359 116.937 2.24279C116.704 2.1049 116.44 2.03449 116.171 2.03903C115.841 2.02819 115.515 2.10997 115.227 2.27564C114.966 2.42435 114.759 2.65455 114.633 2.93294C114.485 3.27113 114.413 3.63978 114.423 4.01091V6.9753C114.413 7.34636 114.485 7.71486 114.633 8.05327C114.761 8.32992 114.968 8.5594 115.227 8.71056C115.515 8.87623 115.841 8.95802 116.171 8.94718C116.443 8.95137 116.711 8.88347 116.95 8.75C117.188 8.63082 117.396 8.45513 117.556 8.23731C117.726 7.95522 117.845 7.64334 117.907 7.3171H119.949C119.841 8.03047 119.6 8.71568 119.24 9.335C118.928 9.86436 118.489 10.3014 117.964 10.6036C117.424 10.9044 116.817 11.0561 116.203 11.0439C115.482 11.0629 114.769 10.8933 114.129 10.551Z"
          fill="#474747"
        />
        <path
          d="M124.242 0.115234H126.214V10.9146H124.242V0.115234ZM124.957 0.115234H131.261V2.08712H124.957V0.115234ZM124.957 4.57169H130.47V6.54357H124.957V4.57169ZM124.957 8.95583H131.261V10.9277H124.957V8.95583Z"
          fill="#474747"
        />
        <path
          d="M34.0469 17.0894H36.0249V27.8887H34.0469V17.0894ZM34.9466 21.743H38.3028C38.5268 21.7482 38.7478 21.689 38.9409 21.5721C39.1216 21.4582 39.2675 21.2942 39.362 21.0989C39.4628 20.8815 39.513 20.643 39.5088 20.4021C39.5146 20.1569 39.4643 19.9138 39.362 19.6923C39.272 19.4959 39.1277 19.3313 38.9473 19.219C38.7531 19.1053 38.5325 19.0485 38.3092 19.0547H34.9529V17.0828H38.2582C38.8591 17.0702 39.4535 17.2125 39.9873 17.4969C40.4718 17.7638 40.8724 18.1673 41.1422 18.6603C41.4232 19.192 41.564 19.7903 41.5506 20.3956C41.564 21.0008 41.4232 21.5991 41.1422 22.1308C40.872 22.6218 40.4714 23.0232 39.9873 23.2877C39.4519 23.5669 38.8582 23.7068 38.2582 23.6952H34.9529L34.9466 21.743Z"
          fill="#474747"
        />
        <path
          d="M48.2536 17.0918H49.5297L53.5368 27.8911H51.4121L48.9044 20.5163L46.3968 27.8911H44.2656L48.2536 17.0918ZM46.1671 24.2037H51.68V26.1756H46.1671V24.2037Z"
          fill="#474747"
        />
        <path
          d="M58.4124 27.5275C57.8592 27.2167 57.4133 26.7367 57.1362 26.1538C56.8208 25.4758 56.6676 24.7297 56.6896 23.9782V21.0138C56.6676 20.2601 56.8207 19.5119 57.1362 18.8315C57.4171 18.2513 57.862 17.7723 58.4124 17.4578C59.0456 17.1244 59.7497 16.9594 60.4606 16.978C61.0764 16.9682 61.6846 17.1198 62.2281 17.4184C62.7539 17.7218 63.1937 18.1613 63.5042 18.6935C63.8649 19.3119 64.1035 19.9977 64.2061 20.7114H62.1579C62.0944 20.3868 61.9733 20.0771 61.8005 19.7978C61.6556 19.5591 61.4563 19.3606 61.2199 19.2194C60.9852 19.0806 60.7184 19.0102 60.4478 19.0156C60.1181 19.0054 59.7918 19.0872 59.5035 19.2522C59.2459 19.4047 59.0391 19.6338 58.9101 19.9095C58.7666 20.2492 58.6969 20.6171 58.7059 20.9875V23.9519C58.6976 24.3222 58.7672 24.6899 58.9101 25.0298C59.0416 25.3037 59.2478 25.5321 59.5035 25.6871C59.7918 25.8522 60.1181 25.9339 60.4478 25.9237C60.7195 25.9288 60.9878 25.8609 61.2263 25.7266C61.4659 25.5875 61.6678 25.3886 61.8133 25.1481C61.9843 24.867 62.1013 24.5546 62.1579 24.2279H64.2061C64.0985 24.9413 63.858 25.6265 63.4978 26.2458C63.186 26.7752 62.7463 27.2123 62.2217 27.5144C61.6792 27.8158 61.0704 27.9675 60.4542 27.9548C59.7498 27.9886 59.0482 27.8418 58.4124 27.5275Z"
          fill="#474747"
        />
        <path
          d="M68.5312 17.0918H70.5093V27.8911H68.5312V17.0918ZM69.7245 23.6647L73.9294 17.0918H76.4115L69.9733 26.2939L69.7245 23.6647ZM71.4664 22.4224L73.17 21.3116L76.8517 27.8846H74.51L71.4664 22.4224Z"
          fill="#474747"
        />
        <path
          d="M83.6726 17.0918H84.9487L88.9558 27.8911H86.8311L84.3107 20.5163L81.803 27.8911H79.6719L83.6726 17.0918ZM81.5861 24.2037H87.099V26.1756H81.5861V24.2037Z"
          fill="#474747"
        />
        <path
          d="M99.7642 21.8561V23.9595C99.7781 24.6963 99.616 25.4254 99.292 26.0825C98.9916 26.6798 98.528 27.1733 97.9585 27.5023C97.3419 27.8456 96.6492 28.0178 95.9485 28.0018C95.247 28.0159 94.5527 27.8534 93.9258 27.5286C93.3604 27.2352 92.8903 26.7784 92.5731 26.214C92.2491 25.611 92.0841 24.9312 92.0946 24.2421V21.0542C92.0807 20.3195 92.2428 19.5925 92.5667 18.9377C92.868 18.3406 93.3343 17.8488 93.9067 17.5245C94.5201 17.1783 95.2109 17.0038 95.9102 17.0184C96.5088 17.0147 97.1002 17.1519 97.6394 17.4194C98.1625 17.6768 98.6161 18.0628 98.9602 18.5434C99.3208 19.041 99.5673 19.6163 99.6813 20.226H97.5437C97.4737 20.0035 97.3509 19.8024 97.1864 19.641C97.0222 19.4718 96.824 19.3416 96.6057 19.2598C96.3833 19.1739 96.1478 19.1293 95.9102 19.1283C95.5849 19.1215 95.2636 19.2031 94.9787 19.365C94.7111 19.5191 94.4902 19.7466 94.3406 20.0223C94.1904 20.3368 94.116 20.684 94.1236 21.0345V24.2224C94.1186 24.5335 94.1958 24.8403 94.347 25.1097C94.4967 25.3704 94.719 25.5788 94.985 25.7079C95.2827 25.8498 95.6079 25.9195 95.9358 25.9116C96.2618 25.9207 96.5847 25.8437 96.8737 25.6881C97.1476 25.5428 97.3707 25.313 97.5118 25.0308C97.6632 24.7144 97.7377 24.3647 97.7288 24.012V23.8346H96.1463V21.8627L99.7642 21.8561Z"
          fill="#474747"
        />
        <path d="M106.267 27.8911H104.219V17.0918H106.267V27.8911Z" fill="#474747" />
        <path
          d="M111.094 17.0918H113.512L117.411 25.3671L117.238 25.5577V17.0918H119.153V27.8846H116.722L112.836 19.7407L113.008 19.5435V27.8846H111.094V17.0918Z"
          fill="#474747"
        />
        <path
          d="M131.521 21.8561V23.9595C131.535 24.6972 131.371 25.427 131.042 26.0825C130.742 26.6798 130.278 27.1733 129.708 27.5023C129.094 27.8462 128.404 28.0184 127.705 28.0018C127.003 28.0172 126.309 27.8547 125.682 27.5286C125.115 27.2353 124.643 26.7786 124.323 26.214C123.999 25.611 123.834 24.9312 123.845 24.2421V21.0542C123.831 20.3195 123.993 19.5925 124.317 18.9377C124.622 18.3434 125.087 17.8525 125.657 17.5245C126.27 17.1783 126.961 17.0038 127.66 17.0184C128.259 17.0147 128.85 17.1519 129.389 17.4194C129.913 17.6784 130.369 18.064 130.717 18.5434C131.073 19.043 131.317 19.6176 131.431 20.226H129.3C129.228 20.0047 129.105 19.8042 128.943 19.641C128.776 19.4716 128.576 19.3415 128.356 19.2598C128.133 19.1733 127.898 19.1288 127.66 19.1283C127.337 19.1214 127.018 19.203 126.735 19.365C126.466 19.5171 126.245 19.7451 126.097 20.0223C125.945 20.3363 125.868 20.6835 125.874 21.0345V24.2224C125.869 24.5335 125.946 24.8403 126.097 25.1097C126.249 25.3684 126.471 25.5762 126.735 25.7079C127.032 25.8505 127.358 25.9202 127.686 25.9116C128.01 25.9195 128.33 25.8426 128.617 25.6881C128.889 25.54 129.112 25.311 129.255 25.0308C129.404 24.7133 129.478 24.3644 129.472 24.012V23.8346H127.884V21.8627L131.521 21.8561Z"
          fill="#474747"
        />
        <path
          d="M11.3366 27.8797H1.9758C1.54996 27.8797 1.14149 27.7058 0.839943 27.396C0.538401 27.0863 0.36839 26.666 0.367188 26.2273V13.0972C0.367188 9.85796 1.99852 8.14941 3.0573 7.38172V1.81135C3.05849 1.37225 3.22836 0.951487 3.52977 0.640994C3.83119 0.330501 4.23965 0.155532 4.66591 0.154297H8.64652C9.07278 0.155532 9.48124 0.330501 9.78266 0.640994C10.0841 0.951487 10.2539 1.37225 10.2551 1.81135V7.38172C11.3094 8.14941 12.9407 9.85796 12.9407 13.0972V26.2273C12.9407 26.6656 12.7717 27.0859 12.4709 27.3957C12.1701 27.7056 11.7621 27.8797 11.3366 27.8797ZM2.18482 26.0073H11.1231V13.0972C11.1231 10.415 9.72802 9.19794 8.89646 8.71112L8.44205 8.43963V2.02669H4.87948V8.43963L4.42507 8.71112C3.5935 9.17922 2.19392 10.415 2.19392 13.0972L2.18482 26.0073Z"
          fill="#474747"
        />
        <path
          d="M23.9152 27.8825H20.4844V26.0101H23.9152C23.9477 26.0105 23.9793 25.999 24.0043 25.9775C24.0293 25.9561 24.0461 25.9261 24.0515 25.893L25.7101 16.063H27.814V13.8021H20.5435V11.9297H28.2684C28.6376 11.9297 28.9917 12.0805 29.2532 12.3489C29.5147 12.6174 29.6622 12.9817 29.6634 13.3621V16.503C29.6622 16.8833 29.5147 17.2476 29.2532 17.5161C28.9917 17.7846 28.6376 17.9354 28.2684 17.9354H27.2414L25.8464 26.2067C25.7698 26.6766 25.5336 27.1032 25.1798 27.4102C24.826 27.7172 24.3777 27.8846 23.9152 27.8825Z"
          fill="#474747"
        />
        <path
          d="M16.1148 27.879H13.7928V26.0066H16.1148C16.4625 26.0075 16.8061 25.9286 17.1205 25.7755C17.4349 25.6225 17.7123 25.3992 17.9324 25.1219C18.1515 24.847 18.2956 24.5169 18.35 24.1657C18.4043 23.8144 18.3668 23.4546 18.2414 23.1231L16.9282 19.6218C16.5468 18.604 16.3847 17.513 16.453 16.4244C16.5212 15.3357 16.8182 14.2753 17.3235 13.3165C17.6286 12.7418 17.7781 12.0932 17.7565 11.4385C17.735 10.7838 17.543 10.1472 17.2008 9.59511L15.1378 6.22482V3.63622H12.375V1.76383H15.2423C15.4643 1.76074 15.6847 1.80271 15.891 1.88737C16.0972 1.97203 16.2852 2.09774 16.4443 2.25727C16.6034 2.4168 16.7304 2.60704 16.8181 2.81714C16.9058 3.02724 16.9525 3.25306 16.9554 3.48174V5.70521L18.7367 8.62146C19.2552 9.45398 19.5462 10.4151 19.579 11.4037C19.6118 12.3922 19.3852 13.3716 18.923 14.2386C18.5418 14.9592 18.3174 15.7566 18.2656 16.5755C18.2138 17.3944 18.3358 18.2151 18.6231 18.9805L19.9364 22.4818C20.1774 23.1172 20.251 23.807 20.1497 24.4811C20.0483 25.1552 19.7756 25.7897 19.3593 26.3202C18.9636 26.8106 18.4675 27.2046 17.9066 27.4741C17.3456 27.7436 16.7337 27.8819 16.1148 27.879Z"
          fill="#474747"
        />
      </svg>

      <svg
        @click="toClose"
        width="14"
        height="14"
        viewBox="0 0 14 14"
        fill="none"
        style="cursor: pointer"
        xmlns="http://www.w3.org/2000/svg"
      >
        <rect
          width="2.06476"
          height="17.733"
          rx="1.03238"
          transform="matrix(-0.707107 -0.707107 -0.707107 0.707107 14 1.45898)"
          fill="#929292"
        />
        <rect
          y="1.45898"
          width="2.06476"
          height="17.733"
          rx="1.03238"
          transform="rotate(-45 0 1.45898)"
          fill="#929292"
        />
      </svg>
    </div>
    <slot name="content"></slot>

    <div v-if="store.isEmailBox" class="email-box">
      <div class="email-box-inp">
        <div class="inp-top">
          <span>电话</span>
          <input v-model="phoneNumber" type="text" @input="validatePhoneNumber" />
          <!-- <div v-if="phoneNumberError" :style="{ color: 'red' }" class="error">
            {{ phoneNumberError }}
          </div> -->
        </div>
        <div class="inp-bot">
          <span>邮箱</span>
          <input v-model="email" type="text" @input="validateEmail" />
          <!-- <div v-if="emailError" :style="{ color: 'red' }" class="error">{{ emailError }}</div> -->
        </div>
      </div>
      <p class="email-text">(choose one to fill in)</p>
      <div class="email-box-btn">
        <p class="box-btn-left" @click="store.toggleEmail">Cancel</p>
        <p class="box-btn-right" @click="contactEmali">Contact Me</p>
      </div>
    </div>
  </div>
</template>

<script setup>
import { useMessageStore } from '@/store/useMessageStore'
import { gsap } from 'gsap'
import { ref } from 'vue'
import { sendEmail } from '../../axios/axios'
// import { nextTick } from 'vue';
const phoneNumber = ref('')
const email = ref('')
const phoneNumberError = ref('')
const emailError = ref('')
const store = useMessageStore()

const toClose = () => {
  // 创建一个缩小动画，将消息容器从当前大小缩小为0，持续时间为1秒
  gsap.to('.message-container', {
    duration: 0.5,
    x: 389,
    onComplete: () => {
      // 在动画完成后执行关闭窗口的逻辑
      store.isChatVisible = !store.isChatVisible
      store.isEmailBox = false
      // nextTick(() => {
      //     // 执行另一个动画，例如放大动画
      //     gsap.from('.right-box', {
      //         duration: 1,
      //         y: 10,
      //     });
      // })
    }
  })
}
//发送邮箱手机
const contactEmali = async () => {
  const data = {
    phone: phoneNumber.value,
    email: email.value,
    subject: '咨询'
  }
  try {
    const res = await sendEmail(data)
    if (res.data.code == 1) {
      email.value = ''
      email.value = ''
      console.log('发送成功')
    }
  } catch (error) {
    console.log(error)
  }
}
//验证
const validatePhoneNumber = () => {
  // Add your phone number validation logic here
  if (!/^\d{11}$/.test(phoneNumber.value)) {
    phoneNumberError.value = 'Invalid phone number'
  } else {
    phoneNumberError.value = ''
  }
}

const validateEmail = () => {
  // Add your email validation logic here
  if (!/^\S+@\S+\.\S+$/.test(email.value)) {
    emailError.value = 'Invalid email address'
  } else {
    emailError.value = ''
  }
}
</script>

<style scoped>
.message-container {
  position: fixed;
  display: flex;
  flex-direction: column;
  height: 90%;
  right: 1%;
  bottom: 2%;
  max-width: 38.9em;
  max-height: 53.3em;
  width: 100%;
  pointer-events: auto;
  border-radius: var(--customer-border-radis);
  background: #ffffff !important;
  z-index: 9999;
  box-shadow: rgba(0, 0, 0, 0.12) 0px 12px 48px 4px;
}

.message-header {
  display: flex;
  padding: 0 2.5em;
  height: 5.8em;
  align-items: center;
  justify-content: space-between;
}

.email-box {
  width: 100%;
  height: 65%;
  position: absolute;
  background-color: #ffffff;
  bottom: 0;
  border-radius: var(--customer-border-radis);
  z-index: 9999999999;
  box-shadow: 0px 0px 0.75em rgba(12, 39, 50, 0.15);
}

.email-box-inp {
  display: flex;
  position: absolute;
  top: 30%;
  /* left: 15%; */
  width: 100%;
  align-items: center;
  flex-direction: column;
}

input:focus {
  border-color: #f1fbff;
  border-top-color: #b2dff1;
  /* 设置边框颜色为蓝色 */
  border-width: 0.0625em;
  /* 设置边框宽度 */
  /* border-style: solid; */
  /* 设置边框样式为实线 */
  outline: none;
  /* 去除默认的外部轮廓样式 */
  border-radius: 0em;
}

.inp-top {
  margin-bottom: 1.5625em;
}

.inp-bot,
.inp-top {
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  border-bottom: 0.0625em solid #9d9d9d;
  width: 70%;
}

.email-box-inp span {
  width: 2.3125em;
  height: 1.6875em;
  font-weight: 400;
  font-size: 2em;
  color: #929292;
  line-height: 1.6875em;
}

.email-box-inp input {
  margin-left: 1.125em;
  border: none;
  height: 2.5em;
  width: 80%;
}

.email-text {
  position: absolute;
  top: 60%;
  left: 50%;
  transform: translateX(-49%);
  /* width: 20.5em; */
  height: 1.6875em;
  font-family: 'Noto Sans TC';
  font-style: normal;
  font-weight: 400;
  font-size: 1.5em;
  line-height: 1.6875em;
  letter-spacing: 0.04em;
  color: #929292;
}

.email-box-btn {
  position: absolute;
  display: flex;
  align-items: center;
  justify-content: center;
  bottom: 0;
  width: 100%;
}

.box-btn-left,
.box-btn-right {
  text-align: center;
  flex: 1;
  height: 5.625em;
  line-height: 5.625em;
  cursor: pointer;
}

.box-btn-left {
  background-color: #ececec;
  color: #474747;
  border-bottom-left-radius: var(--customer-border-radis);
}

.box-btn-right {
  background-color: var(--app-color-button-bg);
  border-bottom-right-radius: var(--customer-border-radis);
  color: #ffffff;
}

@media screen and (max-width: 48em) {
  /* 在小屏幕下应用的样式 */
  .message-container {
    border-radius: 2em 2em 0 0;
    bottom: 0;
    right: 0;
    width: 100%;
    height: 79%;
    max-height: 100%;
    max-width: 100%;
  }
  .email-box {
    border-radius: 2em 2em 0 0;
  }
  .box-btn-left,
  .box-btn-right {
    border-radius: 0;
  }
}
</style>
